from aiogram import Router, F, exceptions
from aiogram.filters import Command
from aiogram.fsm.context import FSMContext
from aiogram.types import Message, CallbackQuery, FSInputFile

from tgbot.keyboards.inline import menu_kb, back_to_manu_kb, support_kb
from tgbot.models.db_commands import select_client, create_client

user_router = Router()


@user_router.message(Command(commands=["start"]))
async def user_start(message: Message, state: FSMContext):
    await state.set_state(None)
    user = await select_client(message.chat.id)
    if not user:
        await create_client(message.from_user.username, message.chat.id, message.from_user.url,
                            message.from_user.full_name)
    await message.answer(text="–í—ã–±–µ—Ä–µ—Ç–µ –ø—É–Ω–∫—Ç –º–µ–Ω—é üëá", reply_markup=await menu_kb())


@user_router.message(Command(commands=["rules"]))
@user_router.callback_query(F.data == "rules")
async def guarantees(call: CallbackQuery | Message, state: FSMContext):
    document = FSInputFile("–ü—Ä–∞–≤–∏–ª–∞.pdf")
    await state.set_state(None)
    if isinstance(call, CallbackQuery):
        await call.message.delete()
        await call.message.answer_document(document=document, reply_markup=await back_to_manu_kb())
    elif isinstance(call, Message):
        await call.delete()
        await call.answer_document(document=document, reply_markup=await back_to_manu_kb())


@user_router.message(Command(commands=["policy"]))
@user_router.callback_query(F.data == "policy")
async def rules(call: CallbackQuery | Message, state: FSMContext):
    await state.set_state(None)
    text = [
        '–î–∞—Ç–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ —Å–∏–ª—É: 23.10.2022 –≥–æ–¥–∞.\n',
        f'–ü–æ–ª–∏—Ç–∏–∫–∞ KYT (–ó–Ω–∞–π —Å–≤–æ—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é) –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ ‚Äã‚Äã–Ω–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∫–ª–∏–µ–Ω—Ç–∞ —Å–¥–µ–ª–∫–∏ –≤ —Å–ª—É—á–∞–µ –ø—Ä–µ—Ü–µ–¥–µ–Ω—Ç–∞, '
        f'–∫–æ–≥–¥–∞ —É –°–µ—Ä–≤–∏—Å–∞ –µ—Å—Ç—å —Ä–∞–∑—É–º–Ω—ã–µ –ø–æ–¥–æ–∑—Ä–µ–Ω–∏—è –≤ —Ç–æ–º, —á—Ç–æ –ö–ª–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Cripthub.ru –Ω–µ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é.\n',
        f'–¢–∞–∫–æ–π –ø—Ä–µ—Ü–µ–¥–µ–Ω—Ç –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å, –µ—Å–ª–∏ –°–µ—Ä–≤–∏—Å –ø–æ–¥–æ–∑—Ä–µ–≤–∞–µ—Ç –ö–ª–∏–µ–Ω—Ç–∞ –≤ –Ω–µ–∑–∞–∫–æ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å '
        f'–∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ –æ—Ç–º—ã–≤–∞–Ω–∏–µ –∏–ª–∏ –ø–æ–ø—ã—Ç–∫–∞ –æ—Ç–º—ã–≤–∞–Ω–∏—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–æ–≤, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö '
        f'–Ω–µ–ø—Ä–∞–≤–æ–º–µ—Ä–Ω—ã–º –ø—É—Ç–µ–º –∏–ª–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –∏–º–µ—é—Ç –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω–æ –∫—Ä–∏–º–∏–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ. –î–ª—è —ç—Ç–∏—Ö —Ü–µ–ª–µ–π –°–µ—Ä–≤–∏—Å '
        f'–≤–ø—Ä–∞–≤–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—É—é –∑–∞–∫–æ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–æ–≤, '
        f'–∞ —Ç–∞–∫–∂–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–∫—Ä–∏–Ω–∏–Ω–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.\n',
        f'‚ñ™Ô∏è –û–±–º–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É —Å –≤—ã—Å–æ–∫–∏–º —Ä–∏—Å–∫–æ–º, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å DarkMarket –ø–ª–æ—â–∞–¥–æ–∫ –∏ –º–∏–∫—Å–µ—Ä–æ–≤.'
        f'‚ñ™Ô∏è –í–æ–∑–≤—Ä–∞—Ç –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã –≤—ã—Å–æ–∫–∏–º —Ä–∏—Å–∫–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ—à–µ–ª–µ–∫ —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–ª—Å—è –ø–µ—Ä–µ–≤–æ–¥.'
        f'‚ñ™Ô∏è –í–æ–∑–≤—Ä–∞—Ç –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã –≤—ã—Å–æ–∫–∏–º —Ä–∏—Å–∫–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–∏ 24 —á–∞—Å–æ–≤ –æ—Ç–¥–µ–ª–æ–º —Å–ª—É–∂–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.'
        f'‚ñ™Ô∏è –û–±–º–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç –≤ –ø—Ä–∞–≤–µ —É–¥–µ—Ä–∂–∞—Ç—å –∫–æ–º–∏—Å—Å–∏—é –¥–æ 5% –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ c –≤—ã—Å–æ–∫–∏–º —Ä–∏—Å–∫–æ–º.'
        f'‚ñ™Ô∏è –û–±–º–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞.'
        f'‚ñ™Ô∏è –ü–µ—Ä–µ—á–µ–Ω—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª—É—á–∞—è.\n'
        f'–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –°–µ—Ä–≤–∏—Å Cripthub.ru –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø–æ–ª–Ω–æ–µ –ø—Ä–∞–≤–æ:\n',
        f'1. –¢—Ä–µ–±–æ–≤–∞—Ç—å –æ—Ç –ö–ª–∏–µ–Ω—Ç–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â—É—é –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö '
        f'–∞–∫—Ç–∏–≤–æ–≤ –∏/–∏–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ —ç—Ç–∏ –∞–∫—Ç–∏–≤—ã –Ω–µ –±—ã–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã –ø—Ä–µ—Å—Ç—É–ø–Ω—ã–º –ø—É—Ç–µ–º;',
        f'–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –∏ –ª—é–±—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ö–ª–∏–µ–Ω—Ç–æ–º, –ø–µ—Ä–µ–¥–∞—Ç—å –≤ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—â–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é '
        f'2. –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏/–∏–ª–∏ –ø—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ä–≥–∞–Ω—ã –ø–æ –º–µ—Å—Ç—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –°–µ—Ä–≤–∏—Å–∞ –∏, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –ø–æ –∞–¥—Ä–µ—Å—É '
        f'—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ö–ª–∏–µ–Ω—Ç–∞ –≤—Å—é –∏–º–µ—é—â—É—é—Å—è –ø–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã;\n',
        f'3. –¢—Ä–µ–±–æ–≤–∞—Ç—å –æ—Ç –ö–ª–∏–µ–Ω—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–µ –ª–∏—á–Ω–æ—Å—Ç—å, —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, '
        f'–ø–ª–∞—Ç–µ–∂–µ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å;\n'
        f'4. –û—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –≤–æ–∑–≤—Ä–∞—Ç —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–æ–≤ —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã, —Å –∫–æ—Ç–æ—Ä—ã—Ö –ø–µ—Ä–µ–≤–æ–¥ –±—ã–ª –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω –∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ '
        f'–Ω–∞ –¥—Ä—É–≥–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã, –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–ª—É–∂–±–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –°–µ—Ä–≤–∏—Å–∞, –µ—Å–ª–∏ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å '
        f'–ª–µ–≥–∞–ª—å–Ω–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –ö–ª–∏–µ–Ω—Ç–∞;\n',
        f'5. –û—Ç–∫–∞–∑–∞—Ç—å –ö–ª–∏–µ–Ω—Ç—É –≤ –≤—ã–≤–æ–¥–µ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å—á–µ—Ç —Ç—Ä–µ—Ç—å–∏—Ö –ª–∏—Ü –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω;\n',
        f'6. –£–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –ö–ª–∏–µ–Ω—Ç–∞ –¥–æ –ø–æ–ª–Ω–æ–≥–æ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞;\n',
        f'7. –°–µ—Ä–≤–∏—Å –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é —Ü–µ–ø–æ—á–∫—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, —Å —Ü–µ–ª—å—é –≤—ã—è–≤–ª–µ–Ω–∏—è '
        f'–ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π;\n',
        f'8. –°–µ—Ä–≤–∏—Å –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ –æ—Ç–∫–∞–∑–∞—Ç—å –ö–ª–∏–µ–Ω—Ç—É –≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ —É—Å–ª—É–≥–∏, –µ—Å–ª–∏ —É –°–µ—Ä–≤–∏—Å–∞ –µ—Å—Ç—å '
        f'–æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥–æ–∑—Ä–µ–Ω–∏—è –≤ –∑–∞–∫–æ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–æ–≤ –∏ —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ '
        f'–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å—á–µ—Ç–∞—Ö –°–µ—Ä–≤–∏—Å–∞;\n',
        f'9. –°–µ—Ä–≤–∏—Å –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ –æ—Ç–∫–∞–∑–∞—Ç—å –ö–ª–∏–µ–Ω—Ç—É –≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ —É—Å–ª—É–≥–∏, –µ—Å–ª–∏ —É –°–µ—Ä–≤–∏—Å–∞ –µ—Å—Ç—å '
        f'–æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥–æ–∑—Ä–µ–Ω–∏—è –≤ –∑–∞–∫–æ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–æ–≤ –∏ —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö '
        f'—Å—á–µ—Ç–∞—Ö –°–µ—Ä–≤–∏—Å–∞, –≤ —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –≤—Å—é —Ü–µ–ø–æ—á–∫—É –¥–≤–∏–∂–µ–Ω–∏—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–æ–≤ '
        f'—Å –º–æ–º–µ–Ω—Ç–∞ –∏—Ö –ø–æ—è–≤–ª–µ–Ω–∏—è.\n',
        f'–£—Å–ª–æ–≤–∏—è –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ –∏—Ç–æ–≥–∞–º AML –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:\n',
        f'–í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–ª—É–∂–±–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –°–µ—Ä–≤–∏—Å–∞, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å '
        f'–ø–æ–¥—Ä–æ–±–Ω—É—é –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è. –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∑–∞ –≤—ã—á–µ—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–∏ '
        f'–¥–æ 5% –æ—Ç —Å—É–º–º—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞—è–≤–∫–∏ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤.',
        f'–í–æ–∑–≤—Ä–∞—Ç, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ –æ–¥–æ–±—Ä–µ–Ω–∏—è —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –°–µ—Ä–≤–∏—Å–∞, –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω –°–µ—Ä–≤–∏—Å–æ–º –≤ —Ç–µ—á–µ–Ω–∏–µ 7 (—Å–µ–º–∏) –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö '
        f'–¥–Ω–µ–π, –Ω–∞—á–∏–Ω–∞—è —Å –¥–∞—Ç—ã, –∫–æ–≥–¥–∞ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª —É–≤–µ–¥–æ–º–ª–µ–Ω —Å —Ä–µ—à–µ–Ω–∏–µ–º –°–µ—Ä–≤–∏—Å–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –µ–≥–æ '
        f'–∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç.–ü—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤, –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏(–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å '
        f'–æ–±—è–∑–∞–Ω –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤.'
    ]
    if isinstance(call, CallbackQuery):
        await call.message.edit_text(text='\n'.join(text), reply_markup=await back_to_manu_kb())
    elif isinstance(call, Message):
        await call.answer(text='\n'.join(text), reply_markup=await back_to_manu_kb())


@user_router.message(Command(commands=["support"]))
@user_router.callback_query(F.data == "support")
async def support(call: CallbackQuery | Message, state: FSMContext):
    await state.set_state(None)
    text = [
        f'–û–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–æ–∂–Ω–æ –ø–æ –∫–Ω–æ–ø–∫–µ –Ω–∏–∂–µ  üëá'
    ]
    if isinstance(call, CallbackQuery):
        await call.message.edit_text(text='\n'.join(text), reply_markup=await support_kb())
    elif isinstance(call, Message):
        await call.answer(text='\n'.join(text), reply_markup=await support_kb())


@user_router.callback_query(F.data == "contact")
async def contact(call: CallbackQuery, state: FSMContext):
    await state.set_state(None)
    await call.message.edit_text(text='\n'.join([
        f'–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã:\n',
        f'–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞: info@cripthub.ru',
        f'–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç: cripthub.ru\n',
        f'–û–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–æ–∂–Ω–æ –ø–æ –∫–Ω–æ–ø–∫–µ –Ω–∏–∂–µ  üëá'
    ]), reply_markup=await support_kb(), disable_web_page_preview=True)


@user_router.callback_query(F.data == "back_to_manu")
async def back_to_manu(call: CallbackQuery, state: FSMContext):
    try:
        await call.message.delete()
    except (exceptions.TelegramAPIError, exceptions.TelegramBadRequest):
        pass
    await user_start(call.message, state)


@user_router.callback_query(F.data == "contact")
async def contact(call: CallbackQuery):
    await call.message.edit_text(text='–ö–æ–Ω—Ç–∞–∫—Ç—ã', reply_markup=await back_to_manu_kb())
